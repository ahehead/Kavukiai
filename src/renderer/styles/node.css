/* ===================================================================
 *  Nodeâ€‘Editor Specific Design Tokens
 * =================================================================*/


:root {
  --dataSocket: hsl(220, 65%, 55%);
  --execSocket: hsl(22, 87%, 60%);

  --socket-icon-size: 0.7rem;

  --node-bg: var(--card);
  --node-fg: var(--card-foreground);
  --node-outline: hsl(210 15% 87%);

  --node-header: var(--color-sidebar);
  --node-header-fg: var(--foreground);
  --hdr-default    : hsl(220 13% 95%);
  --hdr-string     : hsl(190 70% 93%);
  --hdr-run        : hsl(35 80% 94%);

  --node-label: rgb(231, 237, 246);
  --node-border: var(--border);

  --node-state-pending: var(--accent);
  --node-state-success: var(--primary);
  --node-state-error: var(--destructive);

  --node-selected: var(--accent);

  --node-success: hsl(214, 100%, 76%);
  --node-error: hsl(0, 100%, 93%);
  --node-warning: hsl(53, 100%, 93%);
  --node-running: rgb(244, 255, 142);
}

.dark {
    --node-bg: var(--card);
    --node-fg: var(--card-foreground);
}

@theme inline {
  --color-node-bg: var(--node-bg);
  --color-node-fg: var(--node-fg);
  --color-node-header: var(--node-header);
  --color-node-header-fg: var(--node-header-fg);
  --color-node-label: var(--node-label);

  --color-node-outline: var(--node-outline);
  --color-node-selected: var(--node-selected);

  --color-node-success      : var(--node-success);
  --color-node-error        : var(--node-error);
  --color-node-warning      : var(--node-warning);
  --color-node-running      : var(--node-running);

}


@layer utilities {
  .socket-icon-size {
    width: var(--socket-icon-size);
    height: var(--socket-icon-size);
  }
  .socket-icon-size-connected {
    width: calc(var(--socket-icon-size) * 1.1);
    height: calc(var(--socket-icon-size) * 1.1);
  }
  .socket-icon-wrapper-size {
    width: calc(var(--socket-icon-size) * 1.6);
    height: calc(var(--socket-icon-size) * 1.6);
  }

}

@layer components {
  .node-title-size { @apply text-sm; }
  .node-socket-text-size { @apply text-xs; }

  .pulse-border {
    animation: pulseBorder 1.4s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  @keyframes pulseBorder {
    0%, 100% {
      box-shadow: 0 0 0 0 rgba(244, 255, 142, 0.5);
    }
    50% {
      box-shadow: 0 0 0 8px rgba(244, 255, 142, 0.3);
    }
  }
}
